<main class="flex-1">
  <div class="min-h-screen bg-gradient-to-br from-[#07102a] via-[#0B1A3D] to-[#001135] nebula-pulse">
    <!-- Enhanced Hero Section -->
    <div class="relative bg-gradient-to-br from-[#07102a] via-[#0B1A3D] to-[#001135] py-16 md:py-20 overflow-hidden">
      <!-- Space Background Elements -->
      <div class="star-field absolute inset-0">
        <div class="star star-twinkle"></div>
        <div class="star star-twinkle"></div>
        <div class="star star-twinkle"></div>
        <div class="star star-twinkle"></div>
      </div>

      <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="text-center max-w-4xl mx-auto">
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-white font-['Exo_2'] mb-6 cosmic-glow">
            LEO Service Marketplace
          </h1>
          <p class="text-xl text-gray-300 mb-8 leading-relaxed">
            Discover and connect with leading space service providers in Low Earth Orbit
          </p>

          <!-- Search Bar -->
          <div class="max-w-2xl mx-auto relative">
            <div class="relative group">
              <input type="text" placeholder="Search satellite services, data analytics, earth observation..."
                class="w-full h-14 px-6 pr-14 rounded-2xl bg-white/5 border border-[#00A8FF]/30 text-white placeholder-gray-400 focus:outline-none focus:border-[#00A8FF] focus:ring-2 focus:ring-[#00A8FF]/20 transition-all duration-300 backdrop-blur-md" />
              <button
                class="absolute right-3 top-1/2 transform -translate-y-1/2 h-10 w-10 bg-[#00A8FF] hover:bg-[#00A8FF]/90 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:scale-110">
                <svg class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 100-15 7.5 7.5 0 000 15z" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10">
      <div class="flex flex-col lg:flex-row gap-8">
        <!-- Filters Sidebar -->
        <div class="lg:w-1/4 xl:w-1/5">
          <div
            class="bg-white/5 backdrop-blur-md rounded-2xl border border-[#00A8FF]/20 p-6 cosmic-glow-hover sticky top-8">
            <div class="flex items-center justify-between mb-6">
              <h3 class="text-white font-semibold text-lg flex items-center gap-2">
                <svg class="h-5 w-5 text-[#00A8FF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z" />
                </svg>
                Filters
              </h3>
              <button class="text-gray-400 hover:text-white transition-colors text-sm">
                Clear
              </button>
            </div>
            <app-filters (filtersChanged)="onFiltersChanged($event)"></app-filters>
          </div>
        </div>

        <!-- Services Grid -->
        <div class="lg:w-3/4 xl:w-4/5">
          <!-- Results Header -->
          <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4">
            <div class="text-white">
              @if (services$ | async; as services) {
              <p class="text-gray-300">
                Showing {{ services.length }} services
              </p>
              }
            </div>

            <!-- Sort Dropdown -->
            <div class="relative group">
              <button
                class="flex h-12 items-center justify-between rounded-xl border border-[#00A8FF]/30 bg-white/5 px-4 text-sm text-gray-300 hover:text-white hover:bg-white/10 transition-all duration-300 galaxy-hover min-w-48">
                <span class="flex items-center gap-2">
                  <svg class="h-4 w-4 text-[#00A8FF]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4" />
                  </svg>
                  Featured
                </span>
                <svg class="h-4 w-4 opacity-50 transition-transform group-hover:rotate-180" fill="none"
                  viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m6 9 6 6 6-6" />
                </svg>
              </button>
            </div>
          </div>

          <!-- Loading State -->
          @if (loading$ | async) {
          <div class="flex justify-center items-center py-20">
            <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-[#00A8FF]"></div>
          </div>
          }

          <!-- Error State -->
          @if (error$ | async; as error) {
          <div class="bg-red-500/20 border border-red-500/50 rounded-2xl p-8 text-center mb-8">
            <div class="text-red-200 text-lg mb-4">{{ error }}</div>
            <button (click)="facade.loadServices({ PageNumber: 1, PageSize: 12 })"
              class="px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-colors font-semibold">
              Try Again
            </button>
          </div>
          }

          <!-- Services Grid -->
          @if (!(loading$ | async) && !(error$ | async)) {
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6 min-h-[400px]">
            @for (service of services$ | async; track service.id; let i = $index) {
            <app-service-card [service]="service" class="animate-fade-in"
              [style.animation-delay]="i * 0.1 + 's'"></app-service-card>
            } @empty {
            <div class="col-span-full text-center py-16">
              <div class="text-gray-400 text-lg mb-2">No services available at the moment</div>
              <p class="text-gray-500">Please check back later for new space service offerings</p>
            </div>
            }
          </div>

          <!-- Pagination -->
          @if (services$ | async; as services) {
          @if (services.length > 0) {
          <div class="flex justify-center items-center gap-4 mt-12">
            <button (click)="prev()" [disabled]="!hasPrevPage"
              class="flex items-center gap-2 px-6 py-3 rounded-xl border border-[#00A8FF]/30 text-[#00A8FF] hover:bg-[#00A8FF]/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300">
              <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
              Previous
            </button>

            <span class="text-gray-300 px-4">
              Page {{ facade.pageNumber }} of {{ facade.totalPages }}
            </span>

            <button (click)="next()" [disabled]="!hasNextPage"
              class="flex items-center gap-2 px-6 py-3 rounded-xl border border-[#00A8FF]/30 text-[#00A8FF] hover:bg-[#00A8FF]/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300">
              Next
              <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </button>
          </div>
          }
          }
          }
        </div>
      </div>
    </div>
  </div>
</main>