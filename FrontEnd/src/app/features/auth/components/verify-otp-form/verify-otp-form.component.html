<form [formGroup]="otpForm" (ngSubmit)="onSubmit()" class="otp-form">

  <div class="otp-inputs">
    <input
      #digitInput
      type="text"
      inputmode="numeric"
      maxlength="1"
      formControlName="digit1"
      (input)="onDigitInput(0, $event)"
      (keydown)="onKeyDown($event, 0)"
      (paste)="onPaste($event)"
      autocomplete="one-time-code"
      [class.error]="errorMessage"
    />
    <input
      #digitInput
      type="text"
      inputmode="numeric"
      maxlength="1"
      formControlName="digit2"
      (input)="onDigitInput(1, $event)"
      (keydown)="onKeyDown($event, 1)"
      (paste)="onPaste($event)"
      [class.error]="errorMessage"
    />
    <input
      #digitInput
      type="text"
      inputmode="numeric"
      maxlength="1"
      formControlName="digit3"
      (input)="onDigitInput(2, $event)"
      (keydown)="onKeyDown($event, 2)"
      (paste)="onPaste($event)"
      [class.error]="errorMessage"
    />
    <input
      #digitInput
      type="text"
      inputmode="numeric"
      maxlength="1"
      formControlName="digit4"
      (input)="onDigitInput(3, $event)"
      (keydown)="onKeyDown($event, 3)"
      (paste)="onPaste($event)"
      [class.error]="errorMessage"
    />
    <input
      #digitInput
      type="text"
      inputmode="numeric"
      maxlength="1"
      formControlName="digit5"
      (input)="onDigitInput(4, $event)"
      (keydown)="onKeyDown($event, 4)"
      (paste)="onPaste($event)"
      [class.error]="errorMessage"
    />
    <input
      #digitInput
      type="text"
      inputmode="numeric"
      maxlength="1"
      formControlName="digit6"
      (input)="onDigitInput(5, $event)"
      (keydown)="onKeyDown($event, 5)"
      (paste)="onPaste($event)"
      [class.error]="errorMessage"
    />
  </div>

  @if (errorMessage) {
    <div class="auth-error">{{ errorMessage }}</div>
  }

  <div class="w-full pt-2 lg:pt-4">
    <app-button
      type="submit"
      [loading]="isLoading"
      loadingText="Verifying..."
      label="Verify OTP"
      color="bg-[#00A8FF]"
      hoverColor="hover:bg-[#00A8FF]/90"
      textColor="text-white"
      [additionalClasses]="
        'w-full py-3 font-medium rounded-lg transition-all duration-300 ease-out active:scale-[0.98] shadow-lg hover:shadow-xl hover:scale-[1.02]'
      "
      [disabled]="!isOtpComplete() || isLoading"
    ></app-button>
  </div>
</form>